{
  "articleType" : 0,
  "attachments" : [

  ],
  "cids" : {

  },
  "content" : "## ç›®çš„\n\nå› ç‚º git æœ¬èº«å…è¨±ä¿®æ”¹ commitï¼Œæœ¬æ–‡ç« æŒ‡å°å¦‚ä½•åœ¨ macOS ä½œæ¥­ç³»çµ±ä¸­ä½¿ç”¨ GPG å° git æäº¤é€²è¡Œæ•¸å­—ç°½åã€‚é€éé€™ç¨®æ–¹å¼ï¼Œæäº¤åœ¨ GitHub æˆ–å…¶å®ƒ git ç¨‹å¼ç¢¼ç®¡ç†ç³»çµ±ä¸Šå°‡è¢«æ¨™è¨˜ç‚ºå·²é©—è­‰ï¼Œå¾è€Œå¢åŠ æäº¤çš„å¯ä¿¡åº¦ã€‚ğŸ‰\n\n## é…ç½®æ­¥é©Ÿ\n\n### å®‰è£ GPG\n\né€é Homebrew å®‰è£ GPGï¼š\n\n```ssh\nbrew install gpg\n```\n\nå®‰è£ GPG å·¥å…·ï¼Œä¹‹å¾Œå¯ä»¥ä½¿ç”¨å®ƒä¾†ç”Ÿæˆå’Œç®¡ç†é‡‘é‘°å°ã€‚\n\næª¢æŸ¥ç¾æœ‰çš„ GPG é‡‘é‘°\n\nåœ¨ç”Ÿæˆæ–°çš„ GPG é‡‘é‘°å°ä¹‹å‰ï¼Œé¦–å…ˆæª¢æŸ¥æ˜¯å¦å·²ç¶“å­˜åœ¨ GPG é‡‘é‘°ã€‚åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n\n```ssh\ngpg --list-secret-keys --keyid-format LONG\nå¦‚æœå‘½ä»¤æ²’æœ‰è¿”å›ä»»ä½•é‡‘é‘°ï¼Œèªªæ˜ä½ é‚„æ²’æœ‰é…ç½® GPG é‡‘é‘°ã€‚\n% gpg --list-secret-keys --keyid-format LONG\ngpg: directory '/Users/UserName/.gnupg' created\ngpg: /Users/UserName/.gnupg/trustdb.gpg: trustdb created\n```\n\nå¦‚æœè¿”å›äº†é‡‘é‘°è³‡è¨Šï¼Œå‰‡å¯ä»¥è·³éç”Ÿæˆ GPG é‡‘é‘°å°çš„æ­¥é©Ÿã€‚\n\n```ssh\n% gpg --list-secret-keys --keyid-format LONG\n[keyboxd]\n---------\nsec   ed25519/E7175B0CAF8C4FE0 2024-09-16 [SC]\n      *****************\nuid                 [ultimate] UserName <email@exmple.com>\nssb   cv25519/88CAD4AB29BCB4B5 2024-09-16 [E]\n```\n\nå¾Œé¢ä¹Ÿå¯ä»¥é€éé€™æ¢å‘½ä»¤æª¢è¦–å·²æœ‰çš„é‡‘é‘°\n\n### ç”Ÿæˆ GPG é‡‘é‘°å°\n\nç”Ÿæˆæ–°é‡‘é‘°å°ï¼š\n\n```ssh\ngpg --full-generate-key --expert\n# ä½¿ç”¨ --expert é¸é …å¯ä»¥æ”¯æ´ ECC \n# åŠ å¯†æ¼”ç®—æ³•ã€‚å¦‚æœé¸æ“‡ RSA æ¼”ç®—æ³•ï¼Œå‰‡ç„¡éœ€ä½¿ç”¨ --expert é¸é …\n```\n\n* é¸æ“‡é‡‘é‘°å‹åˆ¥ï¼šé¸æ“‡ (9) ECC (sign and encrypt) *default*\n* é¸æ“‡æ¼”ç®—æ³•ï¼šé¸æ“‡ (1) Curve 25519\n* è¨­å®šé‡‘é‘°éæœŸæ™‚é–“ï¼š0 ç‚ºæ°¸ä¸éæœŸ\n* ç¢ºèªè³‡è¨Š Key is valid for? (0)  Is this correct? (y/N)\n* è¨­å®šä½¿ç”¨è€… IDï¼šç¢ºä¿éƒµç®±åœ°å€èˆ‡commitéƒµç®±ä¸€è‡´\n* è¨­å®šå¯†ç¢¼\n\n\n### åŒ¯å‡ºå…¬é‘°\n\nç²å–é‡‘é‘°åˆ—è¡¨ï¼š\n\n```ssh\ngpg --list-secret-keys --keyid-format LONG\n```\n\nç¤ºä¾‹è¼¸å‡ºï¼š\n\n```ssh\n% gpg --list-secret-keys --keyid-format LONG\ngpg: checking the trustdb\ngpg: marginals needed: 3  completes needed: 1  trust model: pgp\ngpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u\n[keyboxd]\n---------\nsec   ed25519/E7175B0CAF8C4FE0 2024-09-16 [SC]\n      *****************\nuid                 [ultimate] UserName <email@exmple.com>\nssb   cv25519/88CAD4AB29BCB4B5 2024-09-16 [E]\n```\n\nè¨˜ä¸‹ sec ed25519/ å¾Œé¢çš„ GPG Key IDï¼Œä¾‹å¦‚ E7175B0CAF8C4FE0\n\nåŒ¯å‡ºå…¬é‘°ï¼š\n\n```ssh\ngpg --armor --export E7175B0CAF8C4FE0\n```\n\nå°‡åŒ¯å‡ºçš„å…¬é‘°è¤‡è£½ä¸¦è²¼ä¸Šåˆ° GitHub çš„ GPG é‡‘é‘°æ–°å¢é é¢ä¸Šã€‚\n\n```ssh\n-----BEGIN PGP PUBLIC KEY BLOCK-----\nPUBLIC KEY\n-----END PGP PUBLIC KEY BLOCK-----\n```\n\n### é…ç½® Git\n\nè¨­å®š gpg-agent ç’°å¢ƒè®Šæ•¸ï¼š\n\n```ssh\necho 'export GPG_TTY=$(tty)' >> ~/.zshrc\nsource ~/.zshrc\n```\n\né€™è£¡åªå¯«äº†Oh my zshçš„ï¼Œå…¶å®ƒå·¥å…·è‡ªè¡Œæ”¹ä¸€ä¸‹\n\né…ç½® Git ä½¿ç”¨ GPG ç°½åï¼š\n\nç•¶å‰ç›®éŒ„\n\n```ssh\ngit config user.signingkey E7175B0CAF8C4FE0\ngit config commit.gpgsign true\n```\n\nå…¨åŸŸæ€§\n\n```ssh\ngit config --global user.signingkey E7175B0CAF8C4FE0\ngit config --global commit.gpgsign true\n```\n\næ³¨æ„æ›¿æ›ç‚ºå¯¦éš›çš„ GPG Key IDã€‚\n\nå°æ–¼ä¸éœ€è¦ GPG ç°½åçš„ Git å€‰åº«ï¼Œé€²å…¥å€‰åº«ç›®éŒ„ä¸¦åŸ·è¡Œï¼š\n\n```ssh\ngit config commit.gpgsign false\n```\n\nç¥ç¨‹å¼è¨­è¨ˆæ„‰æ‚…ï¼",
  "contentRendered" : "<h2>ç›®çš„</h2>\n<p>å› ç‚º git æœ¬èº«å…è¨±ä¿®æ”¹ commitï¼Œæœ¬æ–‡ç« æŒ‡å°å¦‚ä½•åœ¨ macOS ä½œæ¥­ç³»çµ±ä¸­ä½¿ç”¨ GPG å° git æäº¤é€²è¡Œæ•¸å­—ç°½åã€‚é€éé€™ç¨®æ–¹å¼ï¼Œæäº¤åœ¨ GitHub æˆ–å…¶å®ƒ git ç¨‹å¼ç¢¼ç®¡ç†ç³»çµ±ä¸Šå°‡è¢«æ¨™è¨˜ç‚ºå·²é©—è­‰ï¼Œå¾è€Œå¢åŠ æäº¤çš„å¯ä¿¡åº¦ã€‚ğŸ‰</p>\n<h2>é…ç½®æ­¥é©Ÿ</h2>\n<h3>å®‰è£ GPG</h3>\n<p>é€é Homebrew å®‰è£ GPGï¼š</p>\n<pre><code class=\"language-ssh\">brew install gpg\n</code></pre>\n<p>å®‰è£ GPG å·¥å…·ï¼Œä¹‹å¾Œå¯ä»¥ä½¿ç”¨å®ƒä¾†ç”Ÿæˆå’Œç®¡ç†é‡‘é‘°å°ã€‚</p>\n<p>æª¢æŸ¥ç¾æœ‰çš„ GPG é‡‘é‘°</p>\n<p>åœ¨ç”Ÿæˆæ–°çš„ GPG é‡‘é‘°å°ä¹‹å‰ï¼Œé¦–å…ˆæª¢æŸ¥æ˜¯å¦å·²ç¶“å­˜åœ¨ GPG é‡‘é‘°ã€‚åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>\n<pre><code class=\"language-ssh\">gpg --list-secret-keys --keyid-format LONG\nå¦‚æœå‘½ä»¤æ²’æœ‰è¿”å›ä»»ä½•é‡‘é‘°ï¼Œèªªæ˜ä½ é‚„æ²’æœ‰é…ç½® GPG é‡‘é‘°ã€‚\n% gpg --list-secret-keys --keyid-format LONG\ngpg: directory '/Users/UserName/.gnupg' created\ngpg: /Users/UserName/.gnupg/trustdb.gpg: trustdb created\n</code></pre>\n<p>å¦‚æœè¿”å›äº†é‡‘é‘°è³‡è¨Šï¼Œå‰‡å¯ä»¥è·³éç”Ÿæˆ GPG é‡‘é‘°å°çš„æ­¥é©Ÿã€‚</p>\n<pre><code class=\"language-ssh\">% gpg --list-secret-keys --keyid-format LONG\n[keyboxd]\n---------\nsec   ed25519/E7175B0CAF8C4FE0 2024-09-16 [SC]\n      *****************\nuid                 [ultimate] UserName &lt;email@exmple.com&gt;\nssb   cv25519/88CAD4AB29BCB4B5 2024-09-16 [E]\n</code></pre>\n<p>å¾Œé¢ä¹Ÿå¯ä»¥é€éé€™æ¢å‘½ä»¤æª¢è¦–å·²æœ‰çš„é‡‘é‘°</p>\n<h3>ç”Ÿæˆ GPG é‡‘é‘°å°</h3>\n<p>ç”Ÿæˆæ–°é‡‘é‘°å°ï¼š</p>\n<pre><code class=\"language-ssh\">gpg --full-generate-key --expert\n# ä½¿ç”¨ --expert é¸é …å¯ä»¥æ”¯æ´ ECC \n# åŠ å¯†æ¼”ç®—æ³•ã€‚å¦‚æœé¸æ“‡ RSA æ¼”ç®—æ³•ï¼Œå‰‡ç„¡éœ€ä½¿ç”¨ --expert é¸é …\n</code></pre>\n<ul>\n<li>é¸æ“‡é‡‘é‘°å‹åˆ¥ï¼šé¸æ“‡ (9) ECC (sign and encrypt) <em>default</em></li>\n<li>é¸æ“‡æ¼”ç®—æ³•ï¼šé¸æ“‡ (1) Curve 25519</li>\n<li>è¨­å®šé‡‘é‘°éæœŸæ™‚é–“ï¼š0 ç‚ºæ°¸ä¸éæœŸ</li>\n<li>ç¢ºèªè³‡è¨Š Key is valid for? (0)  Is this correct? (y/N)</li>\n<li>è¨­å®šä½¿ç”¨è€… IDï¼šç¢ºä¿éƒµç®±åœ°å€èˆ‡commitéƒµç®±ä¸€è‡´</li>\n<li>è¨­å®šå¯†ç¢¼</li>\n</ul>\n<h3>åŒ¯å‡ºå…¬é‘°</h3>\n<p>ç²å–é‡‘é‘°åˆ—è¡¨ï¼š</p>\n<pre><code class=\"language-ssh\">gpg --list-secret-keys --keyid-format LONG\n</code></pre>\n<p>ç¤ºä¾‹è¼¸å‡ºï¼š</p>\n<pre><code class=\"language-ssh\">% gpg --list-secret-keys --keyid-format LONG\ngpg: checking the trustdb\ngpg: marginals needed: 3  completes needed: 1  trust model: pgp\ngpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u\n[keyboxd]\n---------\nsec   ed25519/E7175B0CAF8C4FE0 2024-09-16 [SC]\n      *****************\nuid                 [ultimate] UserName &lt;email@exmple.com&gt;\nssb   cv25519/88CAD4AB29BCB4B5 2024-09-16 [E]\n</code></pre>\n<p>è¨˜ä¸‹ sec ed25519/ å¾Œé¢çš„ GPG Key IDï¼Œä¾‹å¦‚ E7175B0CAF8C4FE0</p>\n<p>åŒ¯å‡ºå…¬é‘°ï¼š</p>\n<pre><code class=\"language-ssh\">gpg --armor --export E7175B0CAF8C4FE0\n</code></pre>\n<p>å°‡åŒ¯å‡ºçš„å…¬é‘°è¤‡è£½ä¸¦è²¼ä¸Šåˆ° GitHub çš„ GPG é‡‘é‘°æ–°å¢é é¢ä¸Šã€‚</p>\n<pre><code class=\"language-ssh\">-----BEGIN PGP PUBLIC KEY BLOCK-----\nPUBLIC KEY\n-----END PGP PUBLIC KEY BLOCK-----\n</code></pre>\n<h3>é…ç½® Git</h3>\n<p>è¨­å®š gpg-agent ç’°å¢ƒè®Šæ•¸ï¼š</p>\n<pre><code class=\"language-ssh\">echo 'export GPG_TTY=$(tty)' &gt;&gt; ~/.zshrc\nsource ~/.zshrc\n</code></pre>\n<p>é€™è£¡åªå¯«äº†Oh my zshçš„ï¼Œå…¶å®ƒå·¥å…·è‡ªè¡Œæ”¹ä¸€ä¸‹</p>\n<p>é…ç½® Git ä½¿ç”¨ GPG ç°½åï¼š</p>\n<p>ç•¶å‰ç›®éŒ„</p>\n<pre><code class=\"language-ssh\">git config user.signingkey E7175B0CAF8C4FE0\ngit config commit.gpgsign true\n</code></pre>\n<p>å…¨åŸŸæ€§</p>\n<pre><code class=\"language-ssh\">git config --global user.signingkey E7175B0CAF8C4FE0\ngit config --global commit.gpgsign true\n</code></pre>\n<p>æ³¨æ„æ›¿æ›ç‚ºå¯¦éš›çš„ GPG Key IDã€‚</p>\n<p>å°æ–¼ä¸éœ€è¦ GPG ç°½åçš„ Git å€‰åº«ï¼Œé€²å…¥å€‰åº«ç›®éŒ„ä¸¦åŸ·è¡Œï¼š</p>\n<pre><code class=\"language-ssh\">git config commit.gpgsign false\n</code></pre>\n<p>ç¥ç¨‹å¼è¨­è¨ˆæ„‰æ‚…ï¼</p>\n",
  "created" : 767620120.432725,
  "externalLink" : "",
  "hasAudio" : false,
  "hasVideo" : false,
  "id" : "21770BDB-2D10-4EE5-8F21-ACA5E2B75F5C",
  "link" : "/21770BDB-2D10-4EE5-8F21-ACA5E2B75F5C/",
  "slug" : "",
  "tags" : {
    "mac" : "mac",
    "ssh" : "ssh"
  },
  "title" : "ä½¿ç”¨ GPG ç°½å git commits"
}