<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta content="True" name="HandheldFriendly">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=auto">
    <meta name="theme-color" content="#fff" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1c1c1e" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" href="../assets/style.css?sha256=b6134367c0012e893b4ad7dd64b4ef93683275e4dfe93077071517fe63e96638">
    <link rel="preload" href="../planet.json" as="fetch" type="application/json" crossorigin="anonymous">
    <link rel="preload" href="../rss.xml" as="fetch" type="application/rss+xml" crossorigin="anonymous">
    <title>Mac &#x7C21;&#x55AE;&#x914D;&#x7F6E;&#x4E0D;&#x540C; host &#x7684; ssh-key</title>
    <script>
      let userAgentRegex = /Planet\/\S*/;
      window.PLANET = {
        visitedFromPlanetClient: !!navigator.userAgent.match(userAgentRegex),
        assetsPrefix: '../',
      };

      function breadcrumb(stubs) {
        let container = document.createElement('div');
        container.classList.add('breadcrumb')
        let inner = document.createElement('div');
        inner.classList.add('breadcrumb-inner');
        container.appendChild(inner);
        
        let avatarHTML = `
          <div class="breadcrumb-avatar">
            <a href="../"><img src="../avatar.png" height="16" class="breadcrumb-avatar-image" border="0" /></a>
          </div>
        `;
        inner.innerHTML = avatarHTML;
        
        if (!stubs || !stubs.length) {
          return;
        }

        const getStubElem = (stub) => {
          let elem;
          if (stub.url) {
            elem = document.createElement('a');
            elem.href = stub.url;
          } else {
            elem = document.createElement('span');
          }
          elem.innerText = stub.text;
          if (stub.classes) {
            elem.classList.add(...stub.classes);
          }
          return elem;
        };

        const getSeparatorElem = () => {
          let elem = document.createElement('span');
          elem.innerText = '›';
          elem.classList.add("chevron");
          return elem;
        }

        inner.append(getStubElem(stubs[0]));
        inner.append(getSeparatorElem());
        for (let i = 1; i < stubs.length; i++)  {
          inner.append(getStubElem(stubs[i]));
          if (i < stubs.length - 1) {
            inner.append(getSeparatorElem());
          }
        }

        let main = document.querySelector('.main');
        main.style.paddingTop = '10px';

        let wrapper = document.querySelector('.wrapper');
        wrapper.insertAdjacentElement('afterbegin', container);
      }
    </script>
    
    <link rel="icon" href="../avatar.png" sizes="144x144">
    <link rel="shortcut icon" href="../favicon.ico" type="image/png">
    
    
<!-- Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Mac &#x7C21;&#x55AE;&#x914D;&#x7F6E;&#x4E0D;&#x540C; host &#x7684; ssh-key" />
<meta property="og:site_name" content="&#x8C9D;&#x514B;&#x68EE;&#x7684;&#x5C0F;&#x7AD9;&#x7AD9;" />
<meta property="og:description" content="1. &#x751F;&#x6210;&#x65B0; SSH &#x91D1;&#x9470; ssh-keygen -t ed25519 -C &#x22;your_email@example.com&#x22;
 &#x5982;&#x679C;&#x4E0D;&#x547D;&#x540D;&#xFF0C;&#x9810;&#x8A2D;&#x540D;&#x662F; id_ed25519&#xFF0C;&#x4E00;&#x8DEF;&#x56DE;&#x8ECA;&#x3002; &#x5982;&#x679C;&#x4F60;&#x7528;&#x7684;&#x662F;&#x820A;&#x7CFB;&#x7D71;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; rsa &#x66FF;&#x4EE3; ed25519&#x3002; &#x9019;&#x6642;&#x5019;&#x6703;&#x81EA;&#x52D5;&#x5EFA;&#x7ACB; .ssh &#x8CC7;&#x6599;&#x593E;&#x3002; 2. &#x9032;&#x5165;&#x8CC7;&#x6599;&#x593E; cd ~/.ssh
 3. &#x5C07;&#x65B0;&#x7684; ssh-key &#x65B0;&#x589E;&#x5230; ssh-agent ssh-add ~/.ssh/id_ed25519
 4. &#x5132;&#x5B58;&#x516C;&#x9470;&#x5230;&#x8A17;&#x7BA1;&#x670D;&#x52D9;&#xFF0C;&#x8B6C;&#x5982; GitHub pbcopy &#x3C; ~/.ssh/id_ed25519.pub
 &#x8CBC;&#x4E0A;&#x5230; Gi..." />
<meta property="article:published_time" content="2025-04-27T21:25:16+08:00" />

  <meta property="og:image" content="https://k51qzi5uqu5dkymx3ipnb91r0m8hnjzih530mffz139egcnyl71h16cefhr8c6.eth.sucks/CB8DD277-C0E1-43C2-8D4E-FAC572EC4F98/github-add-ssh-key.png" />
  <meta property="og:image:alt" content="Mac &#x7C21;&#x55AE;&#x914D;&#x7F6E;&#x4E0D;&#x540C; host &#x7684; ssh-key" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="&#x8C9D;&#x514B;&#x68EE;&#x7684;&#x5C0F;&#x7AD9;&#x7AD9;" />
<meta name="twitter:title" content="Mac &#x7C21;&#x55AE;&#x914D;&#x7F6E;&#x4E0D;&#x540C; host &#x7684; ssh-key" />
<meta name="twitter:description" content="1. &#x751F;&#x6210;&#x65B0; SSH &#x91D1;&#x9470; ssh-keygen -t ed25519 -C &#x22;your_email@example.com&#x22;
 &#x5982;&#x679C;&#x4E0D;&#x547D;&#x540D;&#xFF0C;&#x9810;&#x8A2D;&#x540D;&#x662F; id_ed25519&#xFF0C;&#x4E00;&#x8DEF;&#x56DE;&#x8ECA;&#x3002; &#x5982;&#x679C;&#x4F60;&#x7528;&#x7684;&#x662F;&#x820A;&#x7CFB;&#x7D71;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; rsa &#x66FF;&#x4EE3; ed25519&#x3002; &#x9019;&#x6642;&#x5019;&#x6703;&#x81EA;&#x52D5;&#x5EFA;&#x7ACB; .ssh &#x8CC7;&#x6599;&#x593E;&#x3002; 2. &#x9032;&#x5165;&#x8CC7;&#x6599;&#x593E; cd ~/.ssh
 3. &#x5C07;&#x65B0;&#x7684; ssh-key &#x65B0;&#x589E;&#x5230; ssh-agent ssh-add ~/.ssh/id_ed25519
 4. &#x5132;&#x5B58;&#x516C;&#x9470;&#x5230;&#x8A17;&#x7BA1;&#x670D;&#x52D9;&#xFF0C;&#x8B6C;&#x5982; GitHub pbcopy &#x3C; ~/.ssh/id_ed25519.pub
 &#x8CBC;&#x4E0A;&#x5230; Gi..." />

  <meta name="twitter:image" content="https://k51qzi5uqu5dkymx3ipnb91r0m8hnjzih530mffz139egcnyl71h16cefhr8c6.eth.sucks/CB8DD277-C0E1-43C2-8D4E-FAC572EC4F98/github-add-ssh-key.png" />

<!-- End Open Graph Tags -->

<script>
  document.addEventListener('DOMContentLoaded', () => {
    if (!window.PLANET.visitedFromPlanetClient) {
      

      if(document.getElementById('audio-container')){
        document.querySelector('.audio-container').style.display = 'block';
      }
      if(document.getElementById('footer')){
        document.querySelector('#footer').style.display = 'block';
      }
      console.log("Current article_type: 0")
      
      breadcrumb([
        { text: "貝克森的小站站", url: '../' },
      ]);
      
    } else {

    }
    const todos = document.querySelectorAll('li:has(input[type="checkbox"])');
    let i = 1;
    todos.forEach(item => {
      item.id = "todo-item-" + i;
      i++;
    });
  });
</script>

    
    <style>
  html, body, code {
    font-family: "SF Pro JP", "SF Pro Text", "SF Pro Icons", "Hiragino Kaku Gothic Pro", "ヒラギノ角ゴ Pro W3", メイリオ, Meiryo, "ＭＳ Ｐゴシック", "Helvetica Neue", Helvetica, Arial, sans-serif;
  }
</style>
  </head>
  <body>
    
    <div class="wrapper">
      <div class="main">
      

<h1>Mac &#x7C21;&#x55AE;&#x914D;&#x7F6E;&#x4E0D;&#x540C; host &#x7684; ssh-key</h1>
<div class="date">Apr 27, 2025 at 21:25:16</div>
<div class="content">
  
  
  <h2>1. 生成新 SSH 金鑰</h2>
<pre><code class="language-bash">ssh-keygen -t ed25519 -C &quot;your_email@example.com&quot;
</code></pre>
<p>如果不命名，預設名是 <code>id_ed25519</code>，一路回車。</p>
<blockquote>
<p>如果你用的是舊系統，可以使用 <code>rsa</code> 替代 <code>ed25519</code>。</p>
</blockquote>
<p>這時候會自動建立 <code>.ssh</code> 資料夾。</p>
<h2>2. 進入資料夾</h2>
<pre><code class="language-bash">cd ~/.ssh
</code></pre>
<h2>3. 將新的 ssh-key 新增到 ssh-agent</h2>
<pre><code class="language-ssh">ssh-add ~/.ssh/id_ed25519
</code></pre>
<h3>4. 儲存公鑰到託管服務，譬如 GitHub</h3>
<pre><code class="language-ssh">pbcopy &lt; ~/.ssh/id_ed25519.pub
</code></pre>
<p>貼上到 Github 的這個位置：</p>
<p>頭像 -&gt; Settings -&gt; SSH and GPG keys -&gt; New SSH key</p>
<img width="991" alt="github-add-ssh-key" src="github-add-ssh-key.png">
<h3>5. 在不同的 host 中配置</h3>
<pre><code class="language-bash">vi config
</code></pre>
<p>點選鍵盤 <code>i</code> 鍵，鍵入以下資料</p>
<pre><code class="language-ssh"># github
Host github.com
  HostName github.com
  PreferredAuthentications publickey
  IdentityFile ~/.ssh/id_ed25519
# bitbucket
Host bitbucket.org
  HostName bitbucket.org
  PreferredAuthentications publickey
  IdentityFile ~/.ssh/bitbucket_id_ed25519
</code></pre>
<p>按 <code>esc</code> 退出編輯模式，鍵入 <code>:wq</code> 儲存。</p>
<h3>6. 測試一下</h3>
<pre><code class="language-ssh">ssh -T git@github.com
</code></pre>
<p>如果顯示下面的提示就是成功了，如果沒有可能就要看一下上面的步驟有沒有出錯</p>
<pre><code class="language-ssh">Hi &lt;user_name&gt;! You've successfully authenticated, but GitHub does not provide shell access.
</code></pre>
<p>祝程式設計愉悅！</p>

</div>

<div class="tags-container">
<span>Tags:</span>
<div class="tags"><a href="../mac.html" class="tag-item">mac</a><a href="../ssh.html" class="tag-item">ssh</a></div>
</div>



        <footer id="footer" style="display: none;"><div class="footer-inner">
        </div></footer>
      </div>
    </div>
    
  </body>
</html>
